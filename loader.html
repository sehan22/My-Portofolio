<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Loader</title>
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <style>
      #loader {
        transition: opacity 10s;
        position: fixed;
        top: 0;
        left: 0;
        bottom: 0;
        right: 0;
        background: #000000;
      }

      #loader > div {
        width: 290px;
        height: 290px;
        position: absolute;
        top: 0;
        left: 0;
        bottom: 0;
        right: 0;
        margin: auto;
        background: url("assests/index/1/Facebook\ -\ Negative.png");
        background-size: cover;
        background-position: center;
      }
    </style>
  </head>
  <body>
    <h1>So why do we need loaders.?</h1>
    <p>
      We all know, in WWW, contents are loading in a web browser by sending
      requests to the server. So if the connection between the client and server
      is low, then it will take some time to load the content of a web page. I
      think you all have the experience of seeing loading images slowly from top
      to bottom, specially when you are having a slow internet connection
    </p>
    <p>
      So this is disgusting to see right.? We don't want to see half loading
      images to the website users. So we can fix this issue by implementing a
      loader, So with this loaders user will not see the website until the page
      contents are fully loaded
    </p>

    <h2>So how to implement a loader.?</h2>
    <p>
      We can use listener for this. there is a listener that we can set to run
      after a web page is fully loaded
    </p>

    <p>
      So for the sake of having a long loading time to test the Loader we can
      use an iframe and set up something big which get some time to load
    </p>

    <!--here I will use IJSE website. it will take some time to load-->
    <iframe
      src="http://ijse.lk"
      width="100%"
      height="500px"
      frameborder="0"
    ></iframe>

    <!--ok then let's hide the content and apply a loader to cover the full screen-->
    <div id="loader">
      <div></div>
    </div>

    <script>
      let loader = document.getElementById("loader");
      //this is it. this will execute after the window is fully loaded
      window.addEventListener("load", function () {
        console.log(
          "This message will print just after fully loading the website"
        );

        //hide the loader
        loader.style.display = "none";
      });

      // in addition to that if you want to run a code as soon as the DOM created
      document.addEventListener("DOMContentLoaded", function () {
        // you can write anything you want here, and it will run just after creating the DOM object
        let h1 = document.createElement("h1");
        h1.textContent = "HI there";

        let body = document.querySelector("body");
        body.prepend(h1);
      });

      //so if you think how to do this using the jQuery
      $(window).on("load", function () {
        $("#loader").fadeOut(1000);
      });

      $(document).ready(function () {
        $("body").prepend("<h1>This is generated by jQuery</h1>");
      });
      // or
      $(function () {
        $("body").prepend("<h1>This is generated by jQuery</h1>");
      });
    </script>
  </body>
</html>
